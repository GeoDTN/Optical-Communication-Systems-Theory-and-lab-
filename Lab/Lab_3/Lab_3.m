%Optical Communication Systems/Components
%Lab 3

clear all;
close all;
clc;

%Exercise 5

%Eye opening penalty vs peak power (no noise)
in1=[-0.00423679417323442 0.00473771944329826 0.0164520535164776 0.0322184737120033 0.0595336421610284 0.0944728150415806 0.139492184782 0.197272996540114 0.271410318191379 0.376759418261521 0.556103519230469 0.816839095673171];
in2=[0.108101523855723 0.137824505106931 0.175587837546043 0.223966165922967 0.287366205664632 0.370236201298614 0.479704577588912 0.626976497539555 0.829963581256894 1.11651547322987 1.53720197759791 2.19767323327098];
in3=[0.00665543104745581 0.00972566172226408 0.0140147421233614 0.020159778956117 0.0290584720538618 0.042863310887963 0.0658479460146388 0.101124116314569 0.156485753191159 0.247592672027324 0.402775313467679 0.667148022400845];
dBm=[0 1 2 3 4 5 6 7 8 9 10 11];

figure;
plot(dBm,in1,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','r','MarkerSize',10);
hold on;
plot(dBm,in2,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','b','MarkerSize',10);
hold on;
plot(dBm,in3,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','g','MarkerSize',10);
xlabel('Peak Power [dBm]'); ylabel('Eye Opening Penalty [dB]'); grid on;
leg=legend('Pre-compensation','Post-compensation','Hybrid-compensation');

%Eye opening penalty vs peak power (with noise)
in1=[0.727044380075121 0.613389876082028 0.520326461248715 0.440974987831286 0.374211726316705 0.334544038064148 0.319535263393554 0.33676931567593 0.376105569577849 0.461544193227375 0.633083244615634 0.906469208725333];
in2=[0.894843251258536 0.814422376959755 0.751782529954319 0.707074880327173 0.681636607878136 0.684144584101443 0.733722858451682 0.829069915405739 0.997912265858623 1.27521449438048 1.69037034534816 2.34075469935311];
in3=[1.06455030021249 0.931049846667552 0.820276615926588 0.727901492328471 0.650277511793057 0.587708119249477 0.537671151741847 0.502380830982531 0.490675309838025 0.522701787456128 0.607232820064041 0.775879202493115];
dBm=[0 1 2 3 4 5 6 7 8 9 10 11];

figure;
plot(dBm,in1,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','r','MarkerSize',10);
hold on;
plot(dBm,in2,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','b','MarkerSize',10);
hold on;
plot(dBm,in3,'--s','Linewidth',2,'MarkerEdgeColor','k','MarkerFaceColor','g','MarkerSize',10);
xlabel('Peak Power [dBm]'); ylabel('Eye Opening Penalty [dB]'); grid on;
leg=legend('Pre-compensation','Post-compensation','Hybrid-compensation');
